<!--
 * @Author: lijy
-->
## 通讯种类
1. 父组件向子组件通信
2. 子组件向父组件通信
3. 隔代组件间的通信
4. 兄弟组件间的通信

## 实现通信的方式
1. props
2. 自定义事件
3. 全局事件总线
4. 消息订阅与发布
5. Vuex 
6. slot插槽

--------------------------------
--------------------------------

### props
- 通过一般属性实现父向子通信
- 通过函数属性实现子向父通信
- 缺点：不太好处理隔代组件和兄弟组件间的通信
--------------------

###  自定义事件
- 实现：
```
// 绑定监听
<MyComp @eventName="callback">

// 触发（分发）事件
this.$emit("eventName", data)
```
- 缺点：只适合子向父通信
-----------------------

### 全局事件总线
理解：
1. 包含事件处理相关方法的对象（只有一个）  
2. 所有的组件都可以得到 

步骤  
1. 指定事件总线对象  
```
new Vue({
    beforeCreate(){ // 尽量早的执行挂载全局事件总线对象的操作
        Vue.prototype.$bus = this
    }
}).$mount('#root')
``` 
2. 绑定事件
```
this.$bus.$on('deleteTodo', this.deleteTodo)
```
3. 分发事件
```
this.$bus.$emit('deleteTodo', this.index)
```
4. 解绑事件
```
this.$bus.$off('deleteTodo')
```

----------------------------
### 消息订阅与发布
- 需要引入消息订阅与发布的实现库，如：pubsub-js
```
// 订阅消息：
PubSub.subscribe('msg', function(msg, data){})

// 发布消息：
PubSub.publish('msg', data)
```
- 优点：此方式可适用于任意关系组件间的通信
------------------------

### vuex 
- 是Vue官方提供的集中式管理vue多组件共享状态数据的vue插件
- 优点：和组件间关系没有限制，且相比于pubsub库管理更集中更方便

--------------------------------
### slot插槽
- 是专门用来实现父向子传递的带数据的标签
- 注意：通信的标签模板是在父组件中解析好后再传给子组件的